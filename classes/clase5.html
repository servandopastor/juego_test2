<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase - Anatomía y Salud</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .header-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .section-title {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .development-question {
            margin: 20px 0;
            position: relative;
        }

        textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
        }

        textarea:disabled {
            background-color: #f8f9fa;
            border-color: #ccc;
            color: #666;
        }

        .submit-btn {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .submit-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }

        .nav-btn {
            background: #3498db;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
        }

        .nav-btn:hover {
            background: #2980b9;
        }

        /* Espacio para el ejercicio interactivo */
        #interactive-exercise {
            border: 2px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Imagen de Encabezado desde Web -->
        <img src="https://doctoriborra.com/wp-content/uploads/2022/03/lesiones-de-musculos-y-ligamentos-de-pie-y-tobillo.jpg.webp" alt="Imagen de la clase" class="header-image">

        <!-- Título -->
        <h1 class="section-title">Sistema Nervioso y Respuesta a Estímulos</h1>

        <!-- Introducción -->
        <div class="section">
            <h2>Introducción</h2>
            <div class="introduction">
                <p>El sistema nervioso es el centro de control de nuestro cuerpo, responsable de procesar información y coordinar las respuestas a estímulos externos. Este sistema permite que el cuerpo reaccione rápidamente a situaciones que requieren una respuesta inmediata, como alejarse de una fuente de peligro o responder a un sonido. Los órganos sensoriales captan estímulos del entorno y los transmiten al cerebro, que, a su vez, envía señales a los músculos para responder.</p>
                <p>Las neuronas, las células del sistema nervioso, son las encargadas de transmitir estos mensajes a través de impulsos eléctricos. Esta comunicación rápida es esencial para la supervivencia y el bienestar, ya que permite respuestas en milisegundos. La pérdida de función en cualquier parte del sistema nervioso puede tener efectos graves, afectando desde la movilidad hasta el procesamiento cognitivo.</p>
                <p>Estudiar el sistema nervioso no solo nos ayuda a comprender cómo respondemos al mundo que nos rodea, sino también a apreciar la complejidad y precisión de nuestro cuerpo. La salud del sistema nervioso es esencial para una vida plena, y mantenerlo en buen estado es fundamental para el desarrollo físico y mental a lo largo de la vida.</p>
            </div>
        </div>

        <!-- Ejercicio Interactivo -->
        <div class="section">
            <h2>Ejercicio Interactivo</h2>
            <!-- Espacio para pegar el código del ejercicio -->
            <div id="interactive-exercise">
                <div id="interactive-exercise">
    <style>
        .sequence-game {
            background: white;
            padding: 20px;
            border-radius: 8px;
        }

        .scenario {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }

        .scenario-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .scenario-description {
            color: #666;
            margin-bottom: 20px;
            font-style: italic;
        }

        .steps-container {
            min-height: 400px;
            padding: 10px;
            background: #fff;
            border-radius: 8px;
        }

        .step {
            background: #fff;
            border: 2px solid #3498db;
            padding: 12px;
            margin: 8px 0;
            border-radius: 6px;
            cursor: move;
            user-select: none;
            position: relative;
        }

        .step:hover {
            background: #f0f7fc;
        }

        .step.dragging {
            opacity: 0.5;
            border-style: dashed;
        }

        .step.correct {
            border-color: #2ecc71;
            background: #d4edda;
        }

        .step.incorrect {
            border-color: #e74c3c;
            background: #f8d7da;
        }

        .step-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            margin-right: 10px;
        }

        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s ease;
        }

        .check-btn {
            background: #2ecc71;
            color: white;
        }

        .check-btn:hover {
            background: #27ae60;
        }

        .switch-btn {
            background: #3498db;
            color: white;
        }

        .switch-btn:hover {
            background: #2980b9;
        }

        .reset-btn {
            background: #95a5a6;
            color: white;
        }

        .reset-btn:hover {
            background: #7f8c8d;
        }

        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
        }
    </style>

    <div class="sequence-game">
        <div id="currentScenario" class="scenario">
            <div id="scenarioTitle" class="scenario-title"></div>
            <div id="scenarioDescription" class="scenario-description"></div>
            <div class="steps-container" id="stepsContainer"></div>
            <div class="feedback" id="feedback"></div>
            <div class="controls">
                <button class="btn check-btn" onclick="checkSequence()">Verificar Orden</button>
                <button class="btn switch-btn" onclick="switchScenario()">Cambiar Escenario</button>
                <button class="btn reset-btn" onclick="resetCurrentScenario()">Reiniciar</button>
            </div>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                title: "Escenario 1: Tocando un objeto caliente",
                description: "Una persona toca accidentalmente una superficie muy caliente, como una olla en la estufa. El sistema nervioso reacciona rápidamente para proteger al cuerpo y evitar una quemadura grave.",
                steps: [
                    "Receptores de la piel en los dedos detectan una temperatura extremadamente alta.",
                    "Señal de dolor es enviada a través de los nervios sensoriales hacia la médula espinal.",
                    "La médula espinal envía una respuesta automática (reflejo) de retirada al músculo de la mano.",
                    "La mano se aparta del objeto caliente antes de que la señal llegue al cerebro.",
                    "La señal llega al cerebro, donde se procesa la sensación de dolor.",
                    "El cerebro envía una señal al sistema nervioso para iniciar una respuesta de alivio.",
                    "La persona sopla sobre los dedos o aplica agua fría para aliviar la sensación de quemadura."
                ]
            },
            {
                title: "Escenario 2: Escuchando un sonido fuerte inesperado",
                description: "Una persona está concentrada leyendo en una biblioteca, y de repente escucha un sonido fuerte, como una silla que cae al suelo. El sistema nervioso debe procesar rápidamente la información y decidir cómo reaccionar.",
                steps: [
                    "Receptores auditivos en el oído captan el sonido fuerte y lo convierten en una señal eléctrica.",
                    "La señal viaja a través de los nervios auditivos hacia el cerebro.",
                    "El cerebro procesa la información y evalúa si el sonido representa una amenaza.",
                    "El cerebro envía una señal al sistema nervioso autónomo, activando una respuesta de alerta.",
                    "El corazón late más rápido y los músculos se tensan, preparando el cuerpo para una posible reacción.",
                    "La persona gira la cabeza hacia la dirección del sonido para identificar la fuente.",
                    "El cerebro confirma que el sonido fue solo una silla que cayó, y envía una señal para que el cuerpo se relaje.",
                    "El sistema nervioso regula la respiración y el ritmo cardíaco, volviendo al estado normal de calma."
                ]
            }
        ];

        let currentScenarioIndex = 0;
        let originalOrder = [];

        function createSteps() {
            const container = document.getElementById('stepsContainer');
            const scenario = scenarios[currentScenarioIndex];
            
            document.getElementById('scenarioTitle').textContent = scenario.title;
            document.getElementById('scenarioDescription').textContent = scenario.description;
            
            // Guardar orden original
            originalOrder = [...scenario.steps];
            
            // Crear y mezclar pasos
            const shuffledSteps = [...scenario.steps].sort(() => Math.random() - 0.5);
            
            container.innerHTML = '';
            shuffledSteps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'step';
                stepElement.draggable = true;
                stepElement.innerHTML = `
                    <span class="step-number">${index + 1}</span>
                    ${step}
                `;
                stepElement.dataset.step = step;
                container.appendChild(stepElement);
            });

            setupDragAndDrop();
        }

        function setupDragAndDrop() {
            const steps = document.querySelectorAll('.step');
            const container = document.getElementById('stepsContainer');

            steps.forEach(step => {
                step.addEventListener('dragstart', () => {
                    step.classList.add('dragging');
                });

                step.addEventListener('dragend', () => {
                    step.classList.remove('dragging');
                });
            });

            container.addEventListener('dragover', e => {
                e.preventDefault();
                const draggable = document.querySelector('.dragging');
                const siblings = [...container.querySelectorAll('.step:not(.dragging)')];
                
                const nextSibling = siblings.find(sibling => {
                    const box = sibling.getBoundingClientRect();
                    const offset = e.clientY - box.top - box.height / 2;
                    return offset < 0;
                });
                
                container.insertBefore(draggable, nextSibling);
                updateStepNumbers();
            });
        }

        function updateStepNumbers() {
            const steps = document.querySelectorAll('.step');
            steps.forEach((step, index) => {
                const numberSpan = step.querySelector('.step-number');
                numberSpan.textContent = index + 1;
            });
        }

        function checkSequence() {
            const currentOrder = [...document.querySelectorAll('.step')].map(step => step.dataset.step);
            const feedback = document.getElementById('feedback');
            let allCorrect = true;

            currentOrder.forEach((step, index) => {
                const stepElement = document.querySelectorAll('.step')[index];
                if (step === originalOrder[index]) {
                    stepElement.classList.add('correct');
                    stepElement.classList.remove('incorrect');
                } else {
                    stepElement.classList.add('incorrect');
                    stepElement.classList.remove('correct');
                    allCorrect = false;
                }
            });

            feedback.textContent = allCorrect ? 
                '¡Correcto! Has ordenado la secuencia correctamente.' : 
                'Hay algunos pasos en orden incorrecto. Intenta de nuevo.';
            feedback.className = `feedback ${allCorrect ? 'correct' : 'incorrect'}`;
            feedback.style.display = 'block';
        }

        function switchScenario() {
            currentScenarioIndex = (currentScenarioIndex + 1) % scenarios.length;
            createSteps();
            document.getElementById('feedback').style.display = 'none';
        }

        function resetCurrentScenario() {
            createSteps();
            document.getElementById('feedback').style.display = 'none';
        }

        // Iniciar el juego
        createSteps();
    </script>
</div>
            </div>
        </div>

        <!-- Preguntas de Desarrollo -->
        <div class="section">
            <h2>Preguntas de Desarrollo</h2>
            <form id="developmentQuestions" onsubmit="submitAnswers(event)">
                <div class="development-question">
                    <h3>Pregunta 1</h3>
                    <p>Explica el proceso que ocurre en el sistema nervioso desde el momento en que tocamos un objeto caliente hasta que retiramos la mano. ¿Por qué es importante que esta respuesta sea rápida y automática para proteger nuestro cuerpo?</p>
                    <textarea 
                        name="answer1" 
                        id="answer1" 
                        placeholder="Escribe tu respuesta aquí..."
                        required
                    ></textarea>
                </div>

                <div class="development-question">
                    <h3>Pregunta 2</h3>
                    <p>Describe cómo el sistema nervioso permite la coordinación de movimientos complejos, como lanzar una pelota o bailar. ¿Qué papel juegan los sentidos y el cerebro en la planificación y ejecución de estos movimientos?</p>
                    <textarea 
                        name="answer2" 
                        id="answer2" 
                        placeholder="Escribe tu respuesta aquí..."
                        required
                    ></textarea>
                </div>

                <button type="submit" class="submit-btn">Enviar Respuestas</button>
            </form>
        </div>

        <!-- Navegación -->
        <a href="../index.html" class="nav-btn">Volver al Inicio</a>
    </div>

    <script>
        function submitAnswers(event) {
            event.preventDefault();
            
            const form = event.target;
            const submitButton = form.querySelector('.submit-btn');
            const textareas = form.querySelectorAll('textarea');

            // Verificar que todas las preguntas tengan respuesta
            let allAnswered = true;
            textareas.forEach(textarea => {
                if (!textarea.value.trim()) {
                    allAnswered = false;
                }
            });

            if (!allAnswered) {
                alert('Por favor, responde todas las preguntas antes de enviar.');
                return;
            }

            // Deshabilitar el formulario
            submitButton.disabled = true;
            textareas.forEach(textarea => {
                textarea.disabled = true;
            });

            // Mostrar mensaje de confirmación
            alert('¡Respuestas enviadas con éxito! Ya no podrás modificarlas.');
        }

        // Prevenir salir de la página si hay respuestas sin enviar
        window.onbeforeunload = function() {
            const textareas = document.querySelectorAll('textarea');
            let hasUnsavedContent = false;

            textareas.forEach(textarea => {
                if (textarea.value.trim() && !textarea.disabled) {
                    hasUnsavedContent = true;
                }
            });

            if (hasUnsavedContent) {
                return "Tienes respuestas sin enviar. ¿Estás seguro de que quieres salir?";
            }
        };
    </script>
</body>
</html>
